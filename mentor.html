<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <title>AUSMP — Augustine Udefa Scholarship Mentorship Program</title>

  <link rel="stylesheet" href="main.css">
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link href="https://fonts.googleapis.com/css2?family=Outfit:wght@300;400;500;600;700&display=swap" rel="stylesheet">

  <script src="https://cdn.tailwindcss.com"></script>
  <script src="https://cdn.jsdelivr.net/npm/@preline/preline@2.0.0/dist/preline.min.js"></script>

  <script>
    // Replace with your Uploadcare public key
    UPLOADCARE_PUBLIC_KEY = 'bb3e37fd7caa0a712fe8';
  </script>
  <script src="https://ucarecdn.com/libs/widget/3.x/uploadcare.full.min.js"></script>

  <!-- EmailJS -->
  <script src="https://cdn.jsdelivr.net/npm/emailjs-com@3/dist/email.min.js"></script>

  <script src="script.js" defer></script>
  <link rel="icon" href="img/favicon.png" type="image/png">
</head>
<body class="bg-white dark:bg-gray-900">

  <!-- Navbar with logo and back arrow only -->
  <header class="bg-white dark:bg-gray-900 shadow-md py-4 px-6 flex items-center justify-between">
    <button onclick="window.history.back()" class="text-gray-700 dark:text-gray-300 hover:text-gold-500 text-2xl mr-4" aria-label="Go Back">
      <i class="fas fa-arrow-left"></i>
    </button>
    <div class="flex items-center">
      <img src="img/imgg.png" alt="Foundation Logo" class="h-10 w-auto">
    </div>
    <div style="width:2.5rem;"></div> <!-- Spacer to balance flex -->
  </header>

  <main class="max-w-4xl mx-auto py-10 px-4">
    <h1 class="text-3xl font-bold text-gray-900 dark:text-white mb-6">AUSMP — Augustine Udefa Scholarship Mentorship Program</h1>

    <section class="prose prose-lg text-gray-700 dark:text-gray-300 space-y-4 mb-8">
         <p> The AUSMP is a program administered by the Augustine Udefa Foundation in which applicants with excellent grades, but lacking funding, are mentored and prepared for the award of fully funded scholarships to pursue graduate studies in the United States (U.S.). Accepted applicants are expected to demonstrate enthusiasm to pursue graduate study and devote their time to the mentorship and preparations for the award of the scholarships. </p> 
         <p> Prior to submitting their applications, applicants should appraise themselves with the institution they wish to attend in the U.S. and the programs they wish to pursue in those institutions. Applicants should have all the requirements of their proposed institutions before applying for the AUSMP. The AUSMP is open to applicants from Africa who can demonstrate that they meet the eligibility criteria and lack funding to pursue graduate studies in the U.S. </p>
          <h2 class="text-lg font-semibold">Eligibility</h2> 
          <ul class="list-disc ml-6"> 
            <li>You are an individual of African descent.</li>
             <li>You have a minimum cumulative grade point average (CGPA) of 4.00 on a 5.00 scale or 3.00 on a 4.00 scale at both bachelor’s (and master’s, if applicable) levels.</li> 
             <li>You must demonstrate lack of funding to pursue graduate studies in the U.S.</li>
             </ul> 
             <h2 class="text-lg font-semibold">
                Application requirements</h2> 
                <ul class="list-disc ml-6">
                     <li>Personal statement</li>
                      <li>Unofficial academic transcript(s)</li>
                       <li>Cover letter</li>
                        <li>Curriculum vitae</li> 
                        <li>Three letters of recommendation from academic referees</li> 
                        <li>IELTS or TOEFL scores (if available)</li>
                         <li>GRE scores (if available)</li>
                         </ul> 
                         <!-- <h2 class="text-lg font-semibold">How to apply</h2>
                          <p>Complete the AUSMP application form below and upload all required documents via the form.</p>  -->
                          <div class="grid grid-cols-1 md:grid-cols-3 gap-4"> <div>
                            <strong>Application deadline:</strong></div> 
                            <div class="md:col-span-2">31 March</div> 
                            <div><strong>Mentorship & preparation:</strong></div> 
                            <div class="md:col-span-2">April 15 – October 30</div>
                             <div><strong>Scholarship start date:</strong></div> 
                             <div class="md:col-span-2">Fall or Spring semester (depends on award)</div>
                             </div> </section>

    <!-- FORM -->
    <div class="mt-8">
      <!-- Loading Screen -->
      <div id="loading-screen" class="fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 hidden">
        <div class="bg-white dark:bg-gray-800 p-8 rounded-lg shadow-lg flex flex-col items-center">
          <svg class="animate-spin h-8 w-8 text-gold-500 mb-4" xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24"><circle class="opacity-25" cx="12" cy="12" r="10" stroke="currentColor" stroke-width="4"></circle><path class="opacity-75" fill="currentColor" d="M4 12a8 8 0 018-8v8z"></path></svg>
          <span class="text-gray-900 dark:text-white font-semibold">Submitting your application...</span>
        </div>
      </div>

      <!-- Success Message -->
      <div id="success-message" class="fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 hidden">
        <div class="bg-white dark:bg-gray-800 p-8 rounded-lg shadow-lg flex flex-col items-center">
          <i class="fas fa-check-circle text-green-500 text-4xl mb-4"></i>
          <span class="text-gray-900 dark:text-white font-semibold">Application submitted successfully!</span>
          <p class="mt-2">We will get back to you shortly.</p>
          <button onclick="window.location.reload()" class="mt-4 px-4 py-2 bg-gold-500 text-white rounded-lg hover:bg-gold-600">Close</button>
        </div>
      </div>

      <h2 class="text-2xl font-bold text-gray-900 dark:text-white mb-4">Application form for AUSMP</h2>

      <form id="ausmp-form" class="space-y-6 bg-gray-50 dark:bg-gray-800 p-6 rounded-xl shadow-md" novalidate>
        <!-- PERSONAL DETAILS -->
        <fieldset class="border border-gray-200 dark:border-gray-700 p-4 rounded-lg">
          <legend class="px-2 text-lg font-semibold text-gray-900 dark:text-white">Personal details</legend>
          <div class="grid grid-cols-1 md:grid-cols-2 gap-4 mt-3">
            <div>
              <label for="fullName" class="block text-sm font-medium mb-1 text-gray-900 dark:text-white">Full name</label>
              <input type="text" id="fullName" name="fullName" required class="w-full px-4 py-2 border rounded-lg dark:bg-gray-900 dark:border-gray-700 dark:text-gray-400">
            </div>
            <div>
              <label for="dob" class="block text-sm font-medium mb-1 text-gray-900 dark:text-white">Date of birth</label>
              <input type="date" id="dob" name="dob" required class="w-full px-4 py-2 border rounded-lg dark:bg-gray-900 dark:border-gray-700 dark:text-gray-400">
            </div>

            <div>
              <label for="sex" class="block text-sm font-medium mb-1 text-gray-900 dark:text-white">Gender</label>
              <select id="sex" name="sex" required class="w-full px-4 py-2 border rounded-lg dark:bg-gray-900 dark:border-gray-700 dark:text-gray-400">
                <option value="">Select</option>
                <option value="male">Male</option>
                <option value="female">Female</option>
                <option value="other">Other</option>
                <option value="prefer_not">Prefer not to say</option>
              </select>
            </div>
            <div>
              <label for="nationality" class="block text-sm font-medium mb-1 text-gray-900 dark:text-white">Nationality</label>
              <input type="text" id="nationality" name="nationality" required class="w-full px-4 py-2 border rounded-lg dark:bg-gray-900 dark:border-gray-700 dark:text-gray-400">
            </div>

            <div>
              <label for="stateOfOrigin" class="block text-sm font-medium mb-1 text-gray-900 dark:text-white">State of origin</label>
              <input type="text" id="stateOfOrigin" name="stateOfOrigin" class="w-full px-4 py-2 border rounded-lg dark:bg-gray-900 dark:border-gray-700 dark:text-gray-400">
            </div>
            <div>
              <label for="religion" class="block text-sm font-medium mb-1 text-gray-900 dark:text-white">Religion</label>
              <input type="text" id="religion" name="religion" class="w-full px-4 py-2 border rounded-lg dark:bg-gray-900 dark:border-gray-700 dark:text-gray-400">
            </div>

            <div>
              <label for="contact" class="block text-sm font-medium mb-1 text-gray-900 dark:text-white">Contact number</label>
              <input type="tel" id="contact" name="contact" required class="w-full px-4 py-2 border rounded-lg dark:bg-gray-900 dark:border-gray-700 dark:text-gray-400">
            </div>
            <div>
              <label for="email" class="block text-sm font-medium mb-1 text-gray-900 dark:text-white">Email address</label>
              <input type="email" id="email" name="email" required class="w-full px-4 py-2 border rounded-lg dark:bg-gray-900 dark:border-gray-700 dark:text-gray-400">
            </div>

            <div class="md:col-span-2">
              <label for="permanentAddress" class="block text-sm font-medium mb-1 text-gray-900 dark:text-white">Permanent address</label>
              <textarea id="permanentAddress" name="permanentAddress" rows="2" class="w-full px-4 py-2 border rounded-lg dark:bg-gray-900 dark:border-gray-700 dark:text-gray-400"></textarea>
            </div>
          </div>
        </fieldset>

        <!-- ACADEMIC DETAILS -->
        <fieldset class="border border-gray-200 dark:border-gray-700 p-4 rounded-lg">
          <legend class="px-2 text-lg font-semibold text-gray-900 dark:text-white">Academic information</legend>
          <div class="grid grid-cols-1 md:grid-cols-2 gap-4 mt-3">
            <div>
              <label for="institutionsAttended" class="block text-sm font-medium mb-1 text-gray-900 dark:text-white">Institution(s) attended</label>
              <input type="text" id="institutionsAttended" name="institutionsAttended" placeholder="List institutions (comma separated)" class="w-full px-4 py-2 border rounded-lg dark:bg-gray-900 dark:border-gray-700 dark:text-gray-400">
            </div>
            <div>
              <label for="courseOfStudy" class="block text-sm font-medium mb-1 text-gray-900 dark:text-white">Course of study</label>
              <input type="text" id="courseOfStudy" name="courseOfStudy" class="w-full px-4 py-2 border rounded-lg dark:bg-gray-900 dark:border-gray-700 dark:text-gray-400">
            </div>

            <div>
              <label for="durationOfCourse" class="block text-sm font-medium mb-1 text-gray-900 dark:text-white">Duration of course</label>
              <input type="text" id="durationOfCourse" name="durationOfCourse" placeholder="e.g. 2 years, 4 years" class="w-full px-4 py-2 border rounded-lg dark:bg-gray-900 dark:border-gray-700 dark:text-gray-400">
            </div>
            <div>
              <label for="degreeObtained" class="block text-sm font-medium mb-1 text-gray-900 dark:text-white">Degree obtained</label>
              <input type="text" id="degreeObtained" name="degreeObtained" placeholder="e.g. B.Sc, M.Sc" class="w-full px-4 py-2 border rounded-lg dark:bg-gray-900 dark:border-gray-700 dark:text-gray-400">
            </div>

            <div>
              <label for="cgpa" class="block text-sm font-medium mb-1 text-gray-900 dark:text-white">CGPA</label>
              <input type="text" id="cgpa" name="cgpa" placeholder="e.g. 4.00 / 5.00" class="w-full px-4 py-2 border rounded-lg dark:bg-gray-900 dark:border-gray-700 dark:text-gray-400">
            </div>

            <div>
              <label for="publications" class="block text-sm font-medium mb-1 text-gray-900 dark:text-white">Publications (list out your research publications, if any)</label>
              <textarea id="publications" name="publications" rows="3" placeholder="Title (Year) — Journal/Conference; short description" class="w-full px-4 py-2 border rounded-lg dark:bg-gray-900 dark:border-gray-700 dark:text-gray-400"></textarea>
            </div>
          </div>
        </fieldset>

        <!-- PROPOSED INSTITUTIONS -->
        <fieldset class="border border-gray-200 dark:border-gray-700 p-4 rounded-lg">
          <legend class="px-2 text-lg font-semibold text-gray-900 dark:text-white">Proposed institutions & programs (list up to 5)</legend>
          <p class="text-sm text-gray-600 dark:text-gray-300 mt-2">Please list the school and program you intend to apply to (Institution — Program)</p>

          <div class="grid grid-cols-1 md:grid-cols-2 gap-4 mt-3">
            <div>
              <label class="block text-sm font-medium mb-1 text-gray-900 dark:text-white">Institution 1</label>
              <input type="text" id="inst1" name="inst1" placeholder="Institution name" class="w-full px-4 py-2 border rounded-lg dark:bg-gray-900 dark:border-gray-700 dark:text-gray-400">
            </div>
            <div>
              <label class="block text-sm font-medium mb-1 text-gray-900 dark:text-white">Program 1</label>
              <input type="text" id="prog1" name="prog1" placeholder="Program (e.g. MSc Computer Science)" class="w-full px-4 py-2 border rounded-lg dark:bg-gray-900 dark:border-gray-700 dark:text-gray-400">
            </div>

            <div>
              <label class="block text-sm font-medium mb-1 text-gray-900 dark:text-white">Institution 2</label>
              <input type="text" id="inst2" name="inst2" placeholder="Institution name" class="w-full px-4 py-2 border rounded-lg dark:bg-gray-900 dark:border-gray-700 dark:text-gray-400">
            </div>
            <div>
              <label class="block text-sm font-medium mb-1 text-gray-900 dark:text-white">Program 2</label>
              <input type="text" id="prog2" name="prog2" placeholder="Program" class="w-full px-4 py-2 border rounded-lg dark:bg-gray-900 dark:border-gray-700 dark:text-gray-400">
            </div>

            <div>
              <label class="block text-sm font-medium mb-1 text-gray-900 dark:text-white">Institution 3</label>
              <input type="text" id="inst3" name="inst3" placeholder="Institution name" class="w-full px-4 py-2 border rounded-lg dark:bg-gray-900 dark:border-gray-700 dark:text-gray-400">
            </div>
            <div>
              <label class="block text-sm font-medium mb-1 text-gray-900 dark:text-white">Program 3</label>
              <input type="text" id="prog3" name="prog3" placeholder="Program" class="w-full px-4 py-2 border rounded-lg dark:bg-gray-900 dark:border-gray-700 dark:text-gray-400">
            </div>

            <div>
              <label class="block text-sm font-medium mb-1 text-gray-900 dark:text-white">Institution 4</label>
              <input type="text" id="inst4" name="inst4" placeholder="Institution name" class="w-full px-4 py-2 border rounded-lg dark:bg-gray-900 dark:border-gray-700 dark:text-gray-400">
            </div>
            <div>
              <label class="block text-sm font-medium mb-1 text-gray-900 dark:text-white">Program 4</label>
              <input type="text" id="prog4" name="prog4" placeholder="Program" class="w-full px-4 py-2 border rounded-lg dark:bg-gray-900 dark:border-gray-700 dark:text-gray-400">
            </div>

            <div>
              <label class="block text-sm font-medium mb-1 text-gray-900 dark:text-white">Institution 5</label>
              <input type="text" id="inst5" name="inst5" placeholder="Institution name" class="w-full px-4 py-2 border rounded-lg dark:bg-gray-900 dark:border-gray-700 dark:text-gray-400">
            </div>
            <div>
              <label class="block text-sm font-medium mb-1 text-gray-900 dark:text-white">Program 5</label>
              <input type="text" id="prog5" name="prog5" placeholder="Program" class="w-full px-4 py-2 border rounded-lg dark:bg-gray-900 dark:border-gray-700 dark:text-gray-400">
            </div>
          </div>
        </fieldset>

        <!-- DOCUMENT UPLOADS -->
        <fieldset class="border border-gray-200 dark:border-gray-700 p-4 rounded-lg">
          <legend class="px-2 text-lg font-semibold text-gray-900 dark:text-white">Document upload (PDFs unless otherwise stated)</legend>
          <p class="text-sm text-gray-600 dark:text-gray-300 mt-2">Upload PDFs for documents. Photograph should be a JPG/PNG.</p>

          <div class="grid grid-cols-1 md:grid-cols-2 gap-4 mt-3">
            <div>
              <label for="coverLetter" class="block text-sm font-medium mb-1 text-gray-900 dark:text-white">Cover letter (PDF)</label>
              <input type="hidden" role="uploadcare-uploader" id="coverLetter" name="coverLetter" data-public-key="bb3e37fd7caa0a712fe8" data-tabs="file url" data-clearable="true" data-accept="application/pdf" data-preview-step="true" />
            </div>

            <div>
              <label for="cvUpload" class="block text-sm font-medium mb-1 text-gray-900 dark:text-white">Curriculum vitae (PDF)</label>
              <input type="hidden" role="uploadcare-uploader" id="cvUpload" name="cvUpload" data-public-key="bb3e37fd7caa0a712fe8" data-tabs="file url" data-clearable="true" data-accept="application/pdf" data-preview-step="true" />
            </div>

            <div>
              <label for="personalStatementUpload" class="block text-sm font-medium mb-1 text-gray-900 dark:text-white">Personal statement (PDF)</label>
              <input type="hidden" role="uploadcare-uploader" id="personalStatementUpload" name="personalStatementUpload" data-public-key="bb3e37fd7caa0a712fe8" data-tabs="file url" data-clearable="true" data-accept="application/pdf" data-preview-step="true" />
            </div>

            <div>
              <label for="unofficialTranscript" class="block text-sm font-medium mb-1 text-gray-900 dark:text-white">Unofficial transcript (PDF)</label>
              <input type="hidden" role="uploadcare-uploader" id="unofficialTranscript" name="unofficialTranscript" data-public-key="bb3e37fd7caa0a712fe8" data-tabs="file url" data-clearable="true" data-accept="application/pdf" data-preview-step="true" />
            </div>

            <div>
              <label for="recommendation1" class="block text-sm font-medium mb-1 text-gray-900 dark:text-white">Recommendation letter 1 (PDF)</label>
              <input type="hidden" role="uploadcare-uploader" id="recommendation1" name="recommendation1" data-public-key="bb3e37fd7caa0a712fe8" data-tabs="file url" data-clearable="true" data-accept="application/pdf" data-preview-step="true" />
            </div>

            <div>
              <label for="recommendation2" class="block text-sm font-medium mb-1 text-gray-900 dark:text-white">Recommendation letter 2 (PDF)</label>
              <input type="hidden" role="uploadcare-uploader" id="recommendation2" name="recommendation2" data-public-key="bb3e37fd7caa0a712fe8" data-tabs="file url" data-clearable="true" data-accept="application/pdf" data-preview-step="true" />
            </div>

            <div>
              <label for="recommendation3" class="block text-sm font-medium mb-1 text-gray-900 dark:text-white">Recommendation letter 3 (PDF)</label>
              <input type="hidden" role="uploadcare-uploader" id="recommendation3" name="recommendation3" data-public-key="bb3e37fd7caa0a712fe8" data-tabs="file url" data-clearable="true" data-accept="application/pdf" data-preview-step="true" />
            </div>

            <div>
              <label for="photoUpload" class="block text-sm font-medium mb-1 text-gray-900 dark:text-white">Photograph (JPG/PNG)</label>
              <input type="hidden" role="uploadcare-uploader" id="photoUpload" name="photoUpload" data-public-key="bb3e37fd7caa0a712fe8" data-tabs="file url camera" data-clearable="true" data-accept="image/*" data-images-only="true" data-preview-step="true" />
            </div>
          </div>
        </fieldset>

        <div class="flex items-center gap-3">
          <input id="declaration" name="declaration" type="checkbox" required class="w-4 h-4 text-gold-600 border-gray-300 rounded focus:ring-gold-500">
          <label for="declaration" class="text-sm text-gray-700 dark:text-gray-300">I declare that the information I have provided is true and complete to the best of my knowledge.</label>
        </div>

        <div>
          <button type="submit" class="w-full py-3 px-4 bg-gold-500 text-white rounded-lg hover:bg-gold-600 font-semibold">Submit Application</button>
        </div>
      </form>
    </div>
  </main>

  <script>
    // Initialize EmailJS (replace with your user ID)
    emailjs.init('Hp8-g_JbMoY33XsD_');

    // Helper to read uploadcare widget value (the widget stores a value string)
    function getUploadcareValue(input) {
      return input && input.value ? input.value : '';
    }

    // Collect form and send via EmailJS
    window.addEventListener('DOMContentLoaded', function () {
      var form = document.getElementById('ausmp-form');
      if (!form) return;

      form.addEventListener('submit', function (e) {
        e.preventDefault();

        // Basic front-end validation
        if (!form.checkValidity()) {
          form.reportValidity();
          return;
        }

        document.getElementById('loading-screen').classList.remove('hidden');

        var formData = {};
        // Collect standard inputs
        Array.from(form.elements).forEach(function (el) {
          if (!el.name) return;
          // Uploadcare inputs have role attribute
          if (el.getAttribute('role') === 'uploadcare-uploader') {
            formData[el.name] = getUploadcareValue(el);
          } else if (el.type === 'checkbox') {
            formData[el.name] = el.checked ? 'yes' : 'no';
          } else {
            formData[el.name] = el.value;
          }
        });

        // Add subject and summary fields for email template
        formData.subject = 'AUSMP Application — ' + (formData.fullName || 'Applicant');
        formData.summary = 'AUSMP applicant: ' + (formData.fullName || '') + ' | Email: ' + (formData.email || '');

        // Send submission via EmailJS (update service/template IDs if needed)
        emailjs.send('service_hxc7wck', 'template_nkge1vv', formData)
          .then(function () {
            document.getElementById('loading-screen').classList.add('hidden');
            document.getElementById('success-message').classList.remove('hidden');
            form.reset();

            // Reset uploadcare widgets if present
            if (window.uploadcare && uploadcare.Widget) {
              var widgets = document.querySelectorAll('input[role="uploadcare-uploader"]');
              widgets.forEach(function (inp) {
                try {
                  var widget = uploadcare.Widget(inp);
                  widget.value(null);
                } catch (err) { /* ignore */ }
              });
            }
          }, function (error) {
            document.getElementById('loading-screen').classList.add('hidden');
            console.error('EmailJS error', error);
            alert('Submission failed. Please try again.');
          });
      });

      // Optional: attach uploadcare widgets and show previews inline (Uploadcare handles UI automatically)
      // Example: you can access widget instance via uploadcare.Widget('#coverLetter') etc. if you want custom behavior.
    });
  </script>

</body>
</html>
